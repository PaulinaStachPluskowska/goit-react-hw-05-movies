"use strict";(self.webpackChunkgoit_react_hw_05_movies=self.webpackChunkgoit_react_hw_05_movies||[]).push([[888],{76:function(e,t,n){n.d(t,{$7:function(){return l},Hx:function(){return p},Y5:function(){return d},uV:function(){return v},wr:function(){return u}});var a=n(861),r=n(757),i=n.n(r),s=n(243),c="28e7de8a02a020e11a900cecedfaedb8",o="https://api.themoviedb.org/3",u=function(){var e=(0,a.Z)(i().mark((function e(){var t;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.Z.get("".concat(o,"/trending/movie/day?api_key=").concat(c));case 2:return t=e.sent,e.abrupt("return",t.data.results);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),l=function(){var e=(0,a.Z)(i().mark((function e(t){var n;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.Z.get("".concat(o,"/search/movie?api_key=").concat(c,"&language=en-US&query=").concat(t,"&page=1&include_adult=false"));case 2:return n=e.sent,e.abrupt("return",n.data.results);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),d=function(){var e=(0,a.Z)(i().mark((function e(t){var n;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.Z.get("".concat(o,"/movie/").concat(t,"?api_key=").concat(c,"&language=en-US"));case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),v=function(){var e=(0,a.Z)(i().mark((function e(t){var n;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.Z.get("".concat(o,"/movie/").concat(t,"/credits?api_key=").concat(c,"&language=en-US"));case 2:return n=e.sent,e.abrupt("return",n.data.cast);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),p=function(){var e=(0,a.Z)(i().mark((function e(t){var n;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.Z.get("".concat(o,"/movie/").concat(t,"/reviews?api_key=").concat(c,"&language=en-US&page=1"));case 2:return n=e.sent,e.abrupt("return",n.data.results);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},888:function(e,t,n){n.r(t),n.d(t,{default:function(){return m}});var a=n(861),r=n(439),i=n(757),s=n.n(i),c=n(791),o=n(87),u=n(689),l=n(76),d=n(809),v=n(686),p=n.n(v),f={Container:"MovieDetails_Container__RyaeD",Link:"MovieDetails_Link__ozxnl",DetailContainer:"MovieDetails_DetailContainer__0g+uI",Info:"MovieDetails_Info__tzBaD",Poster:"MovieDetails_Poster__0ttdM",Title:"MovieDetails_Title__6S4TL",Overview:"MovieDetails_Overview__KZakk",Genres:"MovieDetails_Genres__rEGSS",AdditionalInfoContainer:"MovieDetails_AdditionalInfoContainer__ARW2J",AdditionalHeader:"MovieDetails_AdditionalHeader__5fIk2",LinkName:"MovieDetails_LinkName__5w5oI",List:"MovieDetails_List__-3HyV",Item:"MovieDetails_Item__qAC0n"},_=n(184),m=function(){var e,t,n=(0,u.UO)().movieId,i=(0,c.useState)({title:"",release_date:"",vote_average:"",overview:"",genres:[]}),v=(0,r.Z)(i,2),m=v[0],h=v[1],x=(0,c.useState)(""),g=(0,r.Z)(x,2),w=g[0],k=g[1],j=function(){var e=(0,a.Z)(s().mark((function e(){var t;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,l.Y5)(n);case 3:t=e.sent,h(t),k("".concat("https://image.tmdb.org/t/p/w300","/").concat(t.poster_path)),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}();(0,c.useEffect)((function(){j()}),[]);var N=null!==(e=null===(t=(0,u.TH)().state)||void 0===t?void 0:t.from)&&void 0!==e?e:"/movies";return m?(0,_.jsxs)("div",{className:f.Container,children:[(0,_.jsx)(o.OL,{to:N,className:f.Link,children:" \u2190 GO BACK"}),(0,_.jsxs)("div",{className:f.DetailsContainer,children:[(0,_.jsx)("img",{className:f.Poster,src:w,alt:"movie poster"}),(0,_.jsxs)("div",{className:f.Info,children:[(0,_.jsxs)("h2",{className:f.Title,children:[" ",m.title," (",m.release_date.slice(0,4),")"]}),(0,_.jsxs)("p",{className:f.Paragraph,children:[" User score: ",Number.parseFloat(10*m.vote_average).toFixed(0),"%"]}),(0,_.jsx)("h3",{className:f.Overview,children:"Overview"}),(0,_.jsx)("p",{className:f.Paragraph,children:m.overview}),(0,_.jsx)("h4",{className:f.Genres,children:"Genres"}),(0,_.jsx)("p",{className:f.Paragraph,children:m.genres.map((function(e){return e.name})).join(", ")})]})]}),(0,_.jsxs)("div",{className:f.AdditionalInfoContainer,children:[(0,_.jsx)("h4",{className:f.AdditionalHeader,children:"Additional information"}),(0,_.jsxs)("ul",{className:f.List,children:[(0,_.jsx)("li",{className:f.Item,children:(0,_.jsx)(o.rU,{to:"cast",className:f.LinkName,state:{from:N},children:"Cast"})}),(0,_.jsx)("li",{className:f.Item,children:(0,_.jsx)(o.rU,{to:"reviews",className:f.LinkName,state:{from:N},children:"Reviews"})})]}),(0,_.jsx)(c.Suspense,{fallback:(0,_.jsx)(d.Z,{}),children:(0,_.jsx)(u.j3,{})})]})]}):(p().Notify.failure("It is impossible to get detailed data right now!"),(0,_.jsx)(d.Z,{}))}}}]);
//# sourceMappingURL=888.2f716742.chunk.js.map